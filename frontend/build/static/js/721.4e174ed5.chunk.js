"use strict";(self.webpackChunkhotel_journals=self.webpackChunkhotel_journals||[]).push([[721],{9721:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(1413),s=r(4165),a=r(5861),c=r(9439),l=r(2791),i=r(7689),o=r(9434),d=r(2564),u=(r(5462),r(1111)),x=r(6157),h=r(5039),f=r.n(h),m=r(203),p=r(458),v=r(3074),j=r(9396),g=function(e){return function(){var t=(0,a.Z)((0,s.Z)().mark((function t(r){var n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.yM(e);case 3:return n=t.sent,a=n.data,r({type:"SET_USER_EDUCATION",data:a}),t.abrupt("return",{success:!0,message:"Education Added Successfully"});case 9:return t.prev=9,t.t0=t.catch(0),console.log("Error from setUserEducationAction",t.t0),t.abrupt("return",{success:!1,message:"Error in adding Education"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=(0,a.Z)((0,s.Z)().mark((function t(r){var n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.pW(e);case 3:return n=t.sent,a=n.data,r({type:"GET_USER_EDUCATION",data:a}),console.log("Education Fetched Successfully",a),t.abrupt("return",{success:!0,message:"Education Fetched Successfully"});case 10:return t.prev=10,t.t0=t.catch(0),console.log("Error from getUserEducationAction",t.t0),t.abrupt("return",{success:!1,message:"Error in getting Education"});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e,t){return function(){var r=(0,a.Z)((0,s.Z)().mark((function r(n){var a,c;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,j.Yr(e,t);case 3:return a=r.sent,c=a.data,n({type:"UPDATE_USER_EDUCATION",data:c}),r.abrupt("return",{success:!0,message:"Education Updated Successfully"});case 9:return r.prev=9,r.t0=r.catch(0),console.log("Error from updateUserEducationAction",r.t0),r.abrupt("return",{success:!1,message:"Error in updating Education"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},y=function(e){return function(){var t=(0,a.Z)((0,s.Z)().mark((function t(r){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.IY(e);case 3:return n=t.sent,n.data,t.abrupt("return",{success:!0,message:"Education Deleted Successfully"});case 8:return t.prev=8,t.t0=t.catch(0),console.log("Error from deleteEducationAction",t.t0),t.abrupt("return",{success:!1,message:"Error in deleting Education"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Z=r(1213),E=r(184);function C(e){var t=(0,i.UO)().id,r=(0,l.useState)(!1),h=(0,c.Z)(r,2),p=h[0],v=h[1],j=(0,l.useState)(""),b=(0,c.Z)(j,2),y=b[0],Z=b[1],C=(0,l.useState)(""),w=(0,c.Z)(C,2),S=w[0],F=w[1],k=(0,l.useState)(""),_=(0,c.Z)(k,2),U=_[0],D=_[1],A=(0,l.useState)(""),I=(0,c.Z)(A,2),H=I[0],T=I[1],P=(0,l.useState)(""),z=(0,c.Z)(P,2),R=z[0],B=z[1],O=(0,l.useState)(""),Y=(0,c.Z)(O,2),G=Y[0],M=Y[1],q=(0,o.I0)(),L=function(){var r=(0,a.Z)((0,s.Z)().mark((function r(n){var a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),v(!0),a={school:y,city:S,degree:U,start_date:H,end_date:R,description:G,userId:t},console.log(a),r.next=6,q(g(a));case 6:if(!r.sent.success){r.next=12;break}return r.next=10,q(N(t));case 10:r.sent.success?(v(!1),e.onHide()):d.Am.info("Please refresh the page and try again",{position:"bottom-right"});case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,E.jsxs)(u.Z,(0,n.Z)((0,n.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:e.onHide,children:[(0,E.jsx)(u.Z.Header,{style:{display:"flex",justifyContent:"center"},closeButton:!0,children:(0,E.jsxs)(u.Z.Title,{id:"contained-modal-title-vcenter",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,E.jsx)(m.nGB,{size:"20"}),(0,E.jsx)("h5",{className:"mt-2",children:"A\xf1ade tu educaci\xf3n"})]})}),(0,E.jsxs)(u.Z.Body,{children:[(0,E.jsx)("h6",{children:(0,E.jsx)("b",{children:" Destaca tus logros "})}),(0,E.jsx)("p",{children:"Escribe sobre lo que has estudiado, o d\xf3nde est\xe1s estudiando"}),(0,E.jsxs)("form",{children:[(0,E.jsx)(d.Ix,{}),(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"degree",children:"Nombre del Colegio / Universidad"}),(0,E.jsx)("input",{type:"text",className:"form-control",id:"degree",placeholder:"Universidad XYZ",onChange:function(e){return Z(e.target.value)}})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"form-group col",children:[(0,E.jsx)("label",{htmlFor:"city",children:"Ciudad / Pa\xeds"}),(0,E.jsx)("input",{type:"text",className:"form-control",placeholder:"Ciudad / Pa\xeds",onChange:function(e){return F(e.target.value)}})]}),(0,E.jsxs)("div",{className:"form-group col",children:[(0,E.jsx)("label",{htmlFor:"degree",children:"Titulaci\xf3n"}),(0,E.jsx)("input",{type:"text",className:"form-control",id:"degree",placeholder:"Nombre del t\xedtulo",onChange:function(e){return D(e.target.value)}})]})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"form-group col",children:[(0,E.jsx)("label",{htmlFor:"startdate",children:"Inicio"}),(0,E.jsx)("input",{type:"date",className:"form-control",onChange:function(e){return T(e.target.value)}})]}),(0,E.jsxs)("div",{className:"form-group col",children:[(0,E.jsx)("label",{htmlFor:"enddate",children:"Finalizaci\xf3n"}),(0,E.jsx)("input",{type:"date",className:"form-control",onChange:function(e){return B(e.target.value)}})]})]}),(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"description",children:"Descripci\xf3n"}),(0,E.jsx)("textarea",{className:"form-control",placeholder:" Escribe sobre tus estudios",onChange:function(e){return M(e.target.value)},rows:"3"})]})]})]}),(0,E.jsxs)(u.Z.Footer,{children:[(0,E.jsx)(x.Z,{onClick:function(t){t.stopPropagation(),e.onHide()},className:"btn btn-secondary",children:"Cerrar"}),(0,E.jsx)(x.Z,{onClick:L,children:p?(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{className:"d-flex",children:[(0,E.jsx)(f(),{size:25,color:"#ffffff"})," ",(0,E.jsx)("span",{className:"pl-2",children:" "})]})}):"Guardar"})]})]}))}function w(e){var t,r=(0,i.UO)().id,h=e.editid,p=e.deleteid,v=(0,l.useState)(""),j=(0,c.Z)(v,2),g=j[0],Z=j[1],C=(0,l.useState)(""),w=(0,c.Z)(C,2),S=w[0],F=w[1],k=(0,l.useState)(""),_=(0,c.Z)(k,2),U=_[0],D=_[1],A=(0,l.useState)(""),I=(0,c.Z)(A,2),H=I[0],T=I[1],P=(0,l.useState)(""),z=(0,c.Z)(P,2),R=z[0],B=z[1],O=(0,l.useState)(""),Y=(0,c.Z)(O,2),G=Y[0],M=Y[1],q=(0,l.useState)(!1),L=(0,c.Z)(q,2),X=L[0],W=L[1],J=(0,l.useState)(!1),K=(0,c.Z)(J,2),Q=K[0],V=K[1],$=(0,o.I0)(),ee=function(){var t=(0,a.Z)((0,s.Z)().mark((function t(n){var a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),W(!0),g&&S&&U&&H&&R){t.next=6;break}return d.Am.error("Please fill all the fields"),W(!1),t.abrupt("return");case 6:return a={school:g,city:S,degree:U,start_date:H,end_date:R,description:G},console.log(a),t.next=10,$(b(h,a));case 10:if(!t.sent.success){t.next=16;break}return t.next=14,$(N(r));case 14:t.sent.success?(W(!1),e.onHide()):d.Am.info("Please refresh the page and try again");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),te=function(){var t=(0,a.Z)((0,s.Z)().mark((function t(n){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V(!0),t.next=3,$(y(p));case 3:if(!t.sent.success){t.next=9;break}return t.next=7,$(N(r));case 7:t.sent.success?(V(!1),e.onHide()):d.Am.info("Please refresh the page and try again");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),re=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.getEducationReducer})),ne=null===re||void 0===re||null===(t=re.data)||void 0===t?void 0:t.result,se=null===ne||void 0===ne?void 0:ne.filter((function(e){return(null===e||void 0===e?void 0:e._id)===h}))[0];return console.log(se),(0,l.useEffect)((function(){se&&(Z(null===se||void 0===se?void 0:se.school),F(null===se||void 0===se?void 0:se.city),D(null===se||void 0===se?void 0:se.degree),T(null===se||void 0===se?void 0:se.start_date.split("T")[0]),B(null===se||void 0===se?void 0:se.end_date.split("T")[0]),M(null===se||void 0===se?void 0:se.description))}),[se]),(0,E.jsxs)(u.Z,(0,n.Z)((0,n.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:e.onHide,children:[(0,E.jsx)(u.Z.Header,{style:{display:"flex",justifyContent:"center"},closeButton:!0,children:(0,E.jsxs)(u.Z.Title,{id:"contained-modal-title-vcenter",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,E.jsx)(m.nGB,{size:"20"}),(0,E.jsx)("h5",{className:"mt-2",children:"A\xf1ade tu educaci\xf3n"})]})}),(0,E.jsxs)(u.Z.Body,{children:[(0,E.jsx)("h6",{children:(0,E.jsx)("b",{children:" Destaca tus logros "})}),(0,E.jsx)("p",{children:"Escribe sobre lo que has estudiado, o d\xf3nde est\xe1s estudiando"}),(0,E.jsxs)("form",{children:[(0,E.jsx)(d.Ix,{}),(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsxs)("label",{htmlFor:"degree",children:["Nombre del Colegio / Universidad",(0,E.jsx)("small",{className:"text-danger",children:"*"})]}),(0,E.jsx)("input",{type:"text",className:"form-control",id:"degree",value:g,placeholder:"Universidad XYZ",onChange:function(e){return Z(e.target.value)}})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"form-group col",children:[(0,E.jsxs)("label",{htmlFor:"city",children:["Ciudad / Pa\xeds",(0,E.jsx)("small",{className:"text-danger",children:"*"})]}),(0,E.jsx)("input",{type:"text",className:"form-control",placeholder:"Ciudad / Pa\xeds",value:S,onChange:function(e){return F(e.target.value)}})]}),(0,E.jsxs)("div",{className:"form-group col",children:[(0,E.jsxs)("label",{htmlFor:"degree",children:["Titulaci\xf3n",(0,E.jsx)("small",{className:"text-danger",children:"*"})]}),(0,E.jsx)("input",{type:"text",className:"form-control",id:"degree",value:U,placeholder:"Nombre del t\xedtulo",onChange:function(e){return D(e.target.value)}})]})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"form-group col",children:[(0,E.jsxs)("label",{htmlFor:"startdate",children:["Inicio",(0,E.jsx)("small",{className:"text-danger",children:"*"})]}),(0,E.jsx)("input",{type:"date",className:"form-control",value:H,onChange:function(e){return T(e.target.value)}})]}),(0,E.jsxs)("div",{className:"form-group col",children:[(0,E.jsxs)("label",{htmlFor:"enddate",children:["Finalizaci\xf3n",(0,E.jsx)("small",{className:"text-danger",children:"*"})]}),(0,E.jsx)("input",{type:"date",className:"form-control",value:R,onChange:function(e){return B(e.target.value)}})]})]}),(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"description",children:"Descripci\xf3n"}),(0,E.jsx)("textarea",{className:"form-control",placeholder:" Escribe sobre tus estudios",value:G,onChange:function(e){return M(e.target.value)},rows:"3"})]})]})]}),(0,E.jsxs)(u.Z.Footer,{children:[(0,E.jsx)(x.Z,{onClick:function(t){t.stopPropagation(),e.onHide()},className:"btn btn-secondary",children:"Cerrar"}),(0,E.jsx)(x.Z,{onClick:te,className:"btn btn-danger",children:Q?(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{className:"d-flex",children:[(0,E.jsx)(f(),{size:25,color:"#ffffff"})," ",(0,E.jsx)("span",{className:"pl-2",children:"  "})]})}):"Eliminar Educaci\xf3n"}),(0,E.jsx)(x.Z,{onClick:ee,children:X?(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{className:"d-flex",children:[(0,E.jsx)(f(),{size:25,color:"#ffffff"})," ",(0,E.jsx)("span",{className:"pl-2",children:" Updating... "})]})}):"Guardar"})]})]}))}var S=function(){var e,t,r=(0,i.UO)().id,n=(0,l.useState)(!1),s=(0,c.Z)(n,2),a=s[0],d=s[1],u=(0,l.useState)(!1),x=(0,c.Z)(u,2),h=x[0],f=x[1],m=(0,l.useState)(""),j=(0,c.Z)(m,2),g=j[0],b=j[1],y=(0,l.useState)(""),S=(0,c.Z)(y,2),F=S[0],k=S[1],_=(0,o.I0)();(0,l.useEffect)((function(){_(N(r))}),[_]);var U=(0,o.v9)((function(e){return e.getEducationReducer})),D=null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.result;function A(e,t){var r=new Date(e),n=new Date(t),s={year:"numeric",month:"long"},a=r.toLocaleString("default",s),c=n.toLocaleString("default",s),l=n.getMonth()-r.getMonth()+12*(n.getFullYear()-r.getFullYear());if(l>12){var i=Math.floor(l/12);return"".concat(a," - ").concat(c," \xb7 ").concat(i," years  ").concat(l-12*i," months")}return"".concat(a," - ").concat(c," \xb7 ").concat(l," months")}return console.log(D),(0,E.jsxs)("div",{id:"educationscroll",children:[0===(null===D||void 0===D?void 0:D.length)?(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{className:" ".concat(v.Z.addSections),style:{cursor:"pointer"},onClick:function(){return d(!0)},children:(0,E.jsx)("div",{className:"card w-100",children:(0,E.jsxs)("div",{className:"card-body text-center",children:[(0,E.jsx)("i",{className:"fa-solid fa-plus"}),(0,E.jsx)("p",{className:"card-text",children:"A\xf1ade tu educaci\xf3n"})]})})})}):(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{className:"card w-100 mt-2",style:{boxShadow:"14px 10px 20px 3px #d3beae",borderRadius:"25px 25px 25px 25px"},children:[D&&D.length>0?(0,E.jsx)("div",{className:"card-body mt-3 mb-0 pb-0",children:(0,E.jsxs)("div",{className:"row justify-content-between ml-2 mr-2",children:[(0,E.jsx)("h5",{className:"card-title",children:"Educaci\xf3n"}),(0,E.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return d(!0)},children:(0,E.jsx)(p.ntC,{size:"35"})})]})}):(0,E.jsx)(E.Fragment,{children:" "}),(0,E.jsx)("div",{className:"card mt-3",style:{boxShadow:"14px 10px 20px 3px #d3beae",borderRadius:"25px 25px 25px 25px"},children:(0,E.jsx)("div",{className:"card-body",children:null===D||void 0===D||null===(t=D.sort((function(e,t){return new Date(t.start_date)-new Date(e.start_date)})))||void 0===t?void 0:t.map((function(e,t){return(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("h5",{className:"card-title ml-3",children:[e.school," - ",e.city]}),(0,E.jsx)("div",{className:" ml-2 mt-1",style:{cursor:"pointer"},onClick:function(){f(!0),b(e._id),k(e._id)},children:(0,E.jsx)(Z.D1o,{})})]}),(0,E.jsx)("div",{className:"card-text",children:e.degree}),(0,E.jsx)("div",{className:"card-text",children:A(e.start_date,e.end_date)}),t!==D.length-1&&(0,E.jsx)("hr",{})]},t)}))})})]})}),(0,E.jsx)(C,{show:a,onHide:function(){return d(!1)}}),(0,E.jsx)(w,{show:h,onHide:function(){return f(!1)},editid:g,deleteid:F})]})}}}]);
//# sourceMappingURL=721.4e174ed5.chunk.js.map