"use strict";(self.webpackChunkhotel_journals=self.webpackChunkhotel_journals||[]).push([[759],{2759:function(e,r,t){t.r(r),t.d(r,{default:function(){return A}});var n=t(1413),s=t(4165),a=t(5861),i=t(9439),l=t(2791),c=t(9434),o=t(7689),d=t(1111),u=t(6157),m=t(5039),x=t.n(m),f=t(2564),h=(t(5462),t(3524)),p=t(458),v=t(6355),j=t(3074),g=t(9396),b=function(e){return function(){var r=(0,a.Z)((0,s.Z)().mark((function r(t){var n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.Ed(e);case 3:return n=r.sent,a=n.data,t({type:"SET_USER_CERTIFICATES",data:a}),r.abrupt("return",{success:!0,message:"Certificate Added Successfully"});case 9:return r.prev=9,r.t0=r.catch(0),console.log("Error from setCertificatesAction ",r.t0.message),r.abrupt("return",{success:!1,message:"Error in adding Certificates"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},y=function(e){return function(){var r=(0,a.Z)((0,s.Z)().mark((function r(t){var n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.im(e);case 3:return n=r.sent,a=n.data,t({type:"GET_USER_CERTIFICATES",data:a}),r.abrupt("return",{success:!0,message:"Certificates Fetched Successfully"});case 9:return r.prev=9,r.t0=r.catch(0),console.log("Error from getCertificatesAction ",r.t0.message),r.abrupt("return",{success:!1,message:"Error in getting Certificates"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},N=function(e,r){return function(){var t=(0,a.Z)((0,s.Z)().mark((function t(n){var a,i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.xC(e,r);case 3:return a=t.sent,i=a.data,n({type:"UPDATE_USER_CERTIFICATES",data:i}),t.abrupt("return",{success:!0,message:"Certificates Updated Successfully"});case 9:return t.prev=9,t.t0=t.catch(0),console.log("Error from updateCertificateAction ",t.t0.message),t.abrupt("return",{success:!1,message:"Error in updating Certificates"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var r=(0,a.Z)((0,s.Z)().mark((function r(t){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.XE(e);case 3:return r.abrupt("return",{success:!0,message:"Certificate Deleted Successfully"});case 6:return r.prev=6,r.t0=r.catch(0),console.log("Error from deleteCertificateAction ",r.t0.message),r.abrupt("return",{success:!1,message:"Error in deleting Certificates"});case 10:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()},Z=t(1213),C=t(184);function E(e){var r=(0,o.UO)().id,t=(0,l.useState)(!1),m=(0,i.Z)(t,2),p=m[0],v=m[1],j=(0,l.useState)(""),g=(0,i.Z)(j,2),N=g[0],_=g[1],Z=(0,l.useState)(""),E=(0,i.Z)(Z,2),S=E[0],A=E[1],w=(0,l.useState)(""),F=(0,i.Z)(w,2),k=F[0],z=F[1],R=(0,l.useState)(""),D=(0,i.Z)(R,2),I=D[0],U=D[1],H=(0,l.useState)(""),T=(0,i.Z)(H,2),J=T[0],M=T[1],P=(0,l.useState)(""),L=(0,i.Z)(P,2),O=L[0],B=L[1],W=(0,c.I0)(),G=(new Date).getFullYear(),Y=Array.from({length:G-1920},(function(e,r){return G-r})),$=(Array.from({length:G+20-1920},(function(e,r){return G+20-r})),function(){var t=(0,a.Z)((0,s.Z)().mark((function t(n){var a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),N&&S&&k&&I){t.next=3;break}return t.abrupt("return",f.Am.error("Please fill mandatory fields"));case 3:if(!O||(s=O,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(s))){t.next=5;break}return t.abrupt("return",f.Am.error("Please enter a valid URL"));case 5:return v(!0),a={certificate_name:N,issued_by:S,issue_month:k,issue_year:I,credential_id:J,credential_url:O,userId:r},t.next=9,W(b(a));case 9:if(!t.sent.success){t.next=15;break}return t.next=13,W(y(r));case 13:t.sent?e.onHide():f.Am.info("Please referesh the page to see changes");case 15:v(!1);case 16:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}());return(0,C.jsxs)(d.Z,(0,n.Z)((0,n.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:e.onHide,children:[(0,C.jsx)(d.Z.Header,{style:{display:"flex",justifyContent:"center"},closeButton:!0,children:(0,C.jsxs)(d.Z.Title,{id:"contained-modal-title-vcenter",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,C.jsx)(h.BWW,{size:"25"}),(0,C.jsx)("h5",{className:"mt-2",children:"A\xf1ade tus licencias o certificaciones"})]})}),(0,C.jsx)(d.Z.Body,{children:(0,C.jsxs)("form",{children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsxs)("label",{htmlFor:"certificate_name",children:["Nombre del certificado \xa0",(0,C.jsx)("small",{className:"text-danger",children:"*"})]}),(0,C.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return _(e.target.value)},id:"certificate_name",placeholder:"Escribe el nombre de tu t\xedtulo "})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsxs)("label",{htmlFor:"issued_by",children:["Emitido por",(0,C.jsx)("small",{className:"text-danger",children:" * "})]}),(0,C.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return A(e.target.value)},id:"issued_by",placeholder:"Escribe el nombre de la organizaci\xf3n"})]}),(0,C.jsxs)("div",{children:[(0,C.jsxs)("label",{htmlFor:"issue_on",children:["Emitido el",(0,C.jsx)("small",{className:"text-danger",children:"*"})]}),(0,C.jsxs)("div",{className:"form-group row",children:[(0,C.jsx)("div",{className:"form-group col-md-6",children:(0,C.jsxs)("select",{className:"form-control",onChange:function(e){return z(e.target.value)},children:[(0,C.jsx)("option",{value:"",children:"Mes"}),(0,C.jsx)("option",{value:"January",children:"January"}),(0,C.jsx)("option",{value:"February",children:"February"}),(0,C.jsx)("option",{value:"March",children:"March"}),(0,C.jsx)("option",{value:"April",children:"April"}),(0,C.jsx)("option",{value:"May",children:"May"}),(0,C.jsx)("option",{value:"June",children:"June"}),(0,C.jsx)("option",{value:"July",children:"July"}),(0,C.jsx)("option",{value:"August",children:"August"}),(0,C.jsx)("option",{value:"September",children:"September"}),(0,C.jsx)("option",{value:"October",children:"October"}),(0,C.jsx)("option",{value:"November",children:"November"}),(0,C.jsx)("option",{value:"December",children:"December"})]})}),(0,C.jsx)("div",{className:"form-group col-md-6",children:(0,C.jsxs)("select",{className:"form-control",onChange:function(e){return U(e.target.value)},children:[(0,C.jsx)("option",{value:"",children:"A\xf1o"}),Y.map((function(e){return(0,C.jsx)("option",{value:e,children:e},e)}))]})})]})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"credential_id",children:"N\xfamero de registro de t\xedtulo"}),(0,C.jsx)("input",{type:"text",className:"form-control",id:"credential_id",onChange:function(e){return M(e.target.value)},placeholder:"Escribe el n\xfamero de registro de tu t\xedtulo"})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"credential_url",children:"URL del T\xedtulo"}),(0,C.jsx)("input",{type:"text",className:"form-control",id:"credential_url",onChange:function(e){return B(e.target.value)},placeholder:"Escribe la URL de tu t\xedtulo"})]})]})}),(0,C.jsxs)(d.Z.Footer,{children:[(0,C.jsx)(u.Z,{onClick:function(r){r.stopPropagation(),e.onHide()},className:"btn btn-secondary",children:"Cerrar"}),(0,C.jsx)(u.Z,{onClick:$,children:p?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"d-flex",children:[(0,C.jsx)(x(),{size:25,color:"#ffffff"})," ",(0,C.jsx)("span",{className:"pl-2",children:"  "})]})}):"Guardar"})]})]}))}function S(e){var r=(0,o.UO)().id,t=(0,l.useState)(!1),m=(0,i.Z)(t,2),p=m[0],v=m[1],j=e.editid,g=e.delid,b=(0,l.useState)(!1),Z=(0,i.Z)(b,2),E=Z[0],S=Z[1],A=(0,l.useState)(""),w=(0,i.Z)(A,2),F=w[0],k=w[1],z=(0,l.useState)(""),R=(0,i.Z)(z,2),D=R[0],I=R[1],U=(0,l.useState)(""),H=(0,i.Z)(U,2),T=H[0],J=H[1],M=(0,l.useState)(""),P=(0,i.Z)(M,2),L=P[0],O=P[1],B=(0,l.useState)(""),W=(0,i.Z)(B,2),G=W[0],Y=W[1],$=(0,l.useState)(""),X=(0,i.Z)($,2),q=X[0],K=X[1],Q=(0,c.I0)(),V=(new Date).getFullYear(),ee=Array.from({length:V-1920},(function(e,r){return V-r})),re=(Array.from({length:V+20-1920},(function(e,r){return V+20-r})),null===e||void 0===e?void 0:e.certificatedata),te=null===re||void 0===re?void 0:re.filter((function(e){return e._id===j}))[0];(0,l.useEffect)((function(){te&&(k(null===te||void 0===te?void 0:te.certificate_name),I(null===te||void 0===te?void 0:te.issued_by),J(null===te||void 0===te?void 0:te.issue_month),O(null===te||void 0===te?void 0:te.issue_year),Y(null===te||void 0===te?void 0:te.credential_id),K(null===te||void 0===te?void 0:te.credential_url))}),[te]);var ne=function(){var t=(0,a.Z)((0,s.Z)().mark((function t(n){var a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),F&&D&&T&&L){t.next=3;break}return t.abrupt("return",f.Am.error("Please fill mandatory fields"));case 3:if(!q||(s=q,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(s))){t.next=5;break}return t.abrupt("return",f.Am.error("Please enter a valid URL"));case 5:return v(!0),a={certificate_name:F,issued_by:D,issue_month:T,issue_year:L,credential_id:G,credential_url:q},t.next=9,Q(N(j,a));case 9:if(!t.sent.success){t.next=15;break}return t.next=13,Q(y(r));case 13:t.sent?e.onHide():f.Am.info("Please referesh the page to see changes");case 15:v(!1);case 16:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}(),se=function(){var t=(0,a.Z)((0,s.Z)().mark((function t(n){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),S(!0),t.next=4,Q(_(g));case 4:if(!t.sent.success){t.next=10;break}return t.next=8,Q(y(r));case 8:t.sent?e.onHide():f.Am.info("Please referesh the page to see changes");case 10:S(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,C.jsxs)(d.Z,(0,n.Z)((0,n.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:e.onHide,children:[(0,C.jsx)(d.Z.Header,{style:{display:"flex",justifyContent:"center"},closeButton:!0,children:(0,C.jsxs)(d.Z.Title,{id:"contained-modal-title-vcenter",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,C.jsx)(h.BWW,{size:"25"}),(0,C.jsx)("h5",{className:"mt-2",children:"A\xf1ade tus licencias o certificaciones"})]})}),(0,C.jsx)(d.Z.Body,{children:(0,C.jsxs)("form",{children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsxs)("label",{htmlFor:"certificate_name",children:["Nombre del certificado",(0,C.jsx)("small",{className:"text-danger",children:"*"})]}),(0,C.jsx)("input",{type:"text",className:"form-control",value:F,onChange:function(e){return k(e.target.value)},id:"certificate_name",placeholder:"Escribe el nombre de tu t\xedtulo"})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsxs)("label",{htmlFor:"issued_by",children:["Emitido por",(0,C.jsx)("small",{className:"text-danger",children:"*"})]}),(0,C.jsx)("input",{type:"text",className:"form-control",value:D,onChange:function(e){return I(e.target.value)},id:"issued_by",placeholder:" Escribe el nombre de la organizaci\xf3n"})]}),(0,C.jsxs)("div",{children:[(0,C.jsxs)("label",{htmlFor:"issue_on",children:["Emitido el",(0,C.jsx)("small",{className:"text-danger",children:"*"})]}),(0,C.jsxs)("div",{className:"form-group row",children:[(0,C.jsx)("div",{className:"form-group col-md-6",children:(0,C.jsxs)("select",{className:"form-control",value:T,onChange:function(e){return J(e.target.value)},children:[(0,C.jsx)("option",{value:"",children:"Mes"}),(0,C.jsx)("option",{value:"January",children:"January"}),(0,C.jsx)("option",{value:"February",children:"February"}),(0,C.jsx)("option",{value:"March",children:"March"}),(0,C.jsx)("option",{value:"April",children:"April"}),(0,C.jsx)("option",{value:"May",children:"May"}),(0,C.jsx)("option",{value:"June",children:"June"}),(0,C.jsx)("option",{value:"July",children:"July"}),(0,C.jsx)("option",{value:"August",children:"August"}),(0,C.jsx)("option",{value:"September",children:"September"}),(0,C.jsx)("option",{value:"October",children:"October"}),(0,C.jsx)("option",{value:"November",children:"November"}),(0,C.jsx)("option",{value:"December",children:"December"})]})}),(0,C.jsx)("div",{className:"form-group col-md-6",children:(0,C.jsxs)("select",{className:"form-control",value:L,onChange:function(e){return O(e.target.value)},children:[(0,C.jsx)("option",{value:"",children:"A\xf1o"}),ee.map((function(e){return(0,C.jsx)("option",{value:e,children:e},e)}))]})})]})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"credential_id",children:"N\xfamero de registro de t\xedtulo"}),(0,C.jsx)("input",{type:"text",className:"form-control",id:"credential_id",value:G,onChange:function(e){return Y(e.target.value)},placeholder:"Escribe el n\xfamero de registro de tu t\xedtulo"})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"credential_url",children:"URL del T\xedtulo"}),(0,C.jsx)("input",{type:"text",className:"form-control",value:q,id:"credential_url",onChange:function(e){return K(e.target.value)},placeholder:"Escribe la URL de tu t\xedtulo"})]})]})}),(0,C.jsxs)(d.Z.Footer,{children:[(0,C.jsx)(u.Z,{onClick:function(r){r.stopPropagation(),e.onHide()},className:"btn btn-secondary",children:"Cerrar"}),(0,C.jsx)(u.Z,{onClick:se,className:"btn btn-danger",children:E?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"d-flex",children:[(0,C.jsx)(x(),{size:25,color:"#ffffff"}),(0,C.jsx)("span",{className:"pl-2",children:" "})]})}):"Eliminar certificado"}),(0,C.jsx)(u.Z,{onClick:ne,children:p?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"d-flex",children:[(0,C.jsx)(x(),{size:25,color:"#ffffff"})," ",(0,C.jsx)("span",{className:"pl-2",children:" "})]})}):"Guardar"})]})]}))}var A=function(){var e,r=(0,o.UO)().id,t=(0,l.useState)(!1),n=(0,i.Z)(t,2),s=n[0],a=n[1],d=(0,l.useState)(null),u=(0,i.Z)(d,2),m=u[0],x=u[1],h=(0,l.useState)(null),g=(0,i.Z)(h,2),b=g[0],N=g[1],_=(0,l.useState)(!1),A=(0,i.Z)(_,2),w=A[0],F=A[1],k=(0,c.I0)();(0,l.useEffect)((function(){k(y(r))}),[]);var z=(0,c.v9)((function(e){return e.getCertificatesReducer})),R=null===z||void 0===z||null===(e=z.data)||void 0===e?void 0:e.result;return console.log(R),(0,C.jsxs)("div",{id:"liscencescroll",children:[(0,C.jsx)(f.Ix,{}),0===(null===R||void 0===R?void 0:R.length)||void 0===R?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{className:" ".concat(j.Z.addSections),onClick:function(){return a(!0)},style:{cursor:"pointer"},children:(0,C.jsx)("div",{className:"card w-100",children:(0,C.jsxs)("div",{className:"card-body text-center",children:[(0,C.jsx)("i",{className:"fa-solid fa-plus"}),(0,C.jsx)("p",{className:"card-text",children:"A\xf1ade tus licencias o certificaciones"})]})})})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"card-body mt-3 mb-0 pb-0",children:(0,C.jsxs)("div",{className:"row justify-content-between ml-2 mr-2",children:[(0,C.jsx)("h5",{className:"card-title",children:"Licencias y certificaciones"}),(0,C.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return a(!0)},children:(0,C.jsx)(p.ntC,{size:"35"})})]})}),(0,C.jsx)("div",{style:{width:"50vw",boxShadow:"14px 10px 20px 3px #d3beae",borderRadius:"25px 25px 25px 25px"},children:null===R||void 0===R?void 0:R.map((function(e){return(0,C.jsx)("div",{class:"card",children:(0,C.jsxs)("div",{className:"card-body",children:[(0,C.jsxs)("div",{className:"card-header mt-1",style:{display:"flex",alignItems:"center"},children:[e.certificate_name,(0,C.jsx)("div",{style:{cursor:"pointer"},onClick:function(){F(!0),N(e._id),x(e._id)},children:(0,C.jsx)(Z.D1o,{style:{marginLeft:"10px"}})})]}),(0,C.jsxs)("div",{className:"ml-2",children:[(0,C.jsxs)("div",{className:"card-text mt-1",children:[e.issued_by," "]}),e.credential_id?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"card-text mt-1",children:["N\xfamero de registro de t\xedtulo : \xa0",e.credential_id]})}):(0,C.jsx)(C.Fragment,{}),(0,C.jsx)("div",{className:"card-text mt-1",children:(0,C.jsxs)("small",{className:"text-muted",children:["Emitido \xb7 \xa0",e.issue_month," ",e.issue_year]})}),e.credential_url?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("a",{href:"".concat(e.credential_url),target:"_blank",style:{textDecoration:"none"},children:(0,C.jsxs)("button",{className:"btn mt-3",style:{backgroundColor:"#e4b49d",marginRight:"1vw",display:"flex"},children:["Mostrar credencial",(0,C.jsx)("div",{className:"ml-2 mt-1",children:(0,C.jsx)(v.CkN,{})})]})})}):(0,C.jsx)(C.Fragment,{})]})]})})}))})]}),(0,C.jsx)(E,{show:s,onHide:function(){return a(!1)}}),(0,C.jsx)(S,{show:w,editid:m,delid:b,onHide:function(){return F(!1)},certificatedata:R})]})}}}]);
//# sourceMappingURL=759.bcd76f9f.chunk.js.map